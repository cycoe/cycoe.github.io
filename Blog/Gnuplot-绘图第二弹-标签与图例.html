<!DOCTYPE html>
<html lang="en">
<head>
<!-- 2020-05-19 Tue 14:50 -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>Gnuplot 绘图第二弹-标签与图例</title>
<meta name="generator" content="Org mode">
<meta name="author" content="Cycoe">
<link rel="stylesheet" type="text/css" href="/static/css/default.css" />
<link rel="shortcut icon" type="image/png" href="/static/img/favicon.png"/>
<script language="JavaScript" type="text/javascript" src="https://cdn.jsdelivr.net/npm/jquery@3.5.1/dist/jquery.min.js"></script>
<script language="JavaScript" type="text/javascript" src="/static/js/main.js"></script>
</head>
<body>
<div id="preamble" class="status">
<header>
  <nav>Cycoe@Home</nav>
    <ul class="menu">
        <li><a href="/">Index</a></li>
        <li><a href="/Photo/index.html">Photo</a></li>
        <li><a href="/about.html">About</a></li>
    </ul>
    <!-- The Modal -->
    <div id="img-modal" class="modal">
      <!-- The Close Button -->
      <span class="close">&times;</span>
      <!-- Modal Content (The Image) -->
      <img class="modal-content" id="modal-img">
      <!-- Modal Caption (Image Text) -->
      <div id="caption"></div>
    </div>
</header>
</div>
<div id="content">
<header>
<h1 class="title">Gnuplot 绘图第二弹-标签与图例</h1>
</header><p>
上一弹中介绍了 Gnuplot 能够绘制的 2D 图形，这一弹接着来介绍一下 Gnuplot 中的标签
与图例。
</p>

<!-- more -->

<p>
设置标签
</p>
<div class="org-src-container">
<pre class="src src-gnuplot"><span style="color: #1f5bff;">set</span> xrange [<span style="color: #1f5bff;">0:4*pi</span>]
<span style="color: #1f5bff;">set</span> yrange [<span style="color: #1f5bff;">-1.2:2</span>]
<span style="color: #1f5bff;">set</span> y2range [<span style="color: #1f5bff;">0:2</span>]
<span style="color: #1f5bff;">set</span> ytics nomirror
<span style="color: #1f5bff;">set</span> y2tics 0, .1
<span style="color: #1f5bff;">set</span> style fill pattern 5
<span style="color: #1f5bff;">set</span> xlabel <span style="color: #ff1f8b;">"Time (sec.)"</span>
<span style="color: #1f5bff;">set</span> ylabel <span style="color: #ff1f8b;">"Amplitude of Waves"</span>
<span style="color: #1f5bff;">set</span> y2label <span style="color: #ff1f8b;">"Difference"</span>
<span style="color: #b2b2b2; font-style: italic;"># </span><span style="color: #b2b2b2; font-style: italic;">&#25991;&#26412;&#38656;&#35201;&#25163;&#21160;&#25442;&#34892;</span>
<span style="color: #1f5bff;">set</span> <span style="color: #18b2b2;">title</span> <span style="color: #ff1f8b;">"Amplitude with time\nAnd Difference between waves"</span>

<span style="color: #b2b2b2; font-style: italic;"># </span><span style="color: #b2b2b2; font-style: italic;">&#32472;&#21046;&#27599;&#19968;&#26465;&#32447;&#30340; title &#29992;&#26469;&#35774;&#23450;&#22270;&#20363;&#25991;&#26412;</span>
<span style="color: #00af00;">plot</span> <span style="color: #ff1f8b;">'+'</span> <span style="color: #18b2b2;">using</span> 1:(<span style="color: #ef2929;">sin</span>($1)):(<span style="color: #ef2929;">cos</span>($1)) <span style="color: #18b2b2;">with</span> <span style="color: #ef2929;">filledcurves</span> <span style="color: #18b2b2;">notitle</span>,\
     <span style="color: #ef2929;">sin</span>(x) w l <span style="color: #18b2b2;">lw</span> 2,\
     <span style="color: #ef2929;">cos</span>(x) w l <span style="color: #18b2b2;">lw</span> 2,\
     <span style="color: #ff1f8b;">''</span> <span style="color: #18b2b2;">using</span> 1:(<span style="color: #ef2929;">abs</span>(<span style="color: #ef2929;">sin</span>($1)-<span style="color: #ef2929;">cos</span>($1))) w l <span style="color: #18b2b2;">lw</span> 2 axis x1y2 <span style="color: #18b2b2;">title</span> <span style="color: #ff1f8b;">"Difference"</span>
</pre>
</div>


<figure>
<img src="./Gnuplot-绘图第二弹-标签与图例/c2-labels.png" alt="c2-labels.png">

</figure>

<p>
改变标签字体大小
</p>
<div class="org-src-container">
<pre class="src src-gnuplot"><span style="color: #b2b2b2; font-style: italic;"># </span><span style="color: #b2b2b2; font-style: italic;">&#20840;&#23616;&#23383;&#20307;</span>
<span style="color: #1f5bff;">set</span> term png font <span style="color: #ff1f8b;">'Arial, 14'</span>

<span style="color: #b2b2b2; font-style: italic;"># </span><span style="color: #b2b2b2; font-style: italic;">&#21333;&#29420;&#35774;&#32622;&#26576;&#19968;&#37096;&#20998;&#30340;&#23383;&#20307;&#22823;&#23567;</span>
<span style="color: #1f5bff;">set</span> xlabel font <span style="color: #ff1f8b;">",18"</span>
<span style="color: #1f5bff;">set</span> ylabel font <span style="color: #ff1f8b;">",18"</span>
<span style="color: #1f5bff;">set</span> y2label font <span style="color: #ff1f8b;">",18"</span>
<span style="color: #b2b2b2; font-style: italic;"># </span><span style="color: #b2b2b2; font-style: italic;">&#21516;&#26102;&#35774;&#32622;&#20869;&#23481;&#21644;&#22823;&#23567;</span>
<span style="color: #1f5bff;">set</span> <span style="color: #18b2b2;">title</span> <span style="color: #ff1f8b;">"Amplitude with time\nAnd Difference between waves"</span> font <span style="color: #ff1f8b;">",24"</span>

<span style="color: #1f5bff;">replot</span>
</pre>
</div>


<figure>
<img src="./Gnuplot-绘图第二弹-标签与图例/c2-font-size.png" alt="c2-font-size.png">

</figure>

<p>
设置图例的位置和字体等属性
</p>
<div class="org-src-container">
<pre class="src src-gnuplot">  <span style="color: #b2b2b2; font-style: italic;"># </span><span style="color: #b2b2b2; font-style: italic;">spacing &#35843;&#25972;&#22270;&#20363;&#20043;&#38388;&#30340;&#38388;&#36317;&#65292;&#40664;&#35748;&#20540;&#26159; 1.25</span>
  <span style="color: #1f5bff;">set</span> key at graph .4, .95 spacing 1

<span style="color: #1f5bff;">replot</span>
</pre>
</div>


<figure>
<img src="./Gnuplot-绘图第二弹-标签与图例/c2-key.png" alt="c2-key.png">

</figure>

<p>
图例显示在图外面
</p>
<div class="org-src-container">
<pre class="src src-gnuplot"><span style="color: #1f5bff;">set</span> term png size 500,200
<span style="color: #1f5bff;">set</span> key outside

<span style="color: #00af00;">plot</span> <span style="color: #ef2929;">sin</span>(x) <span style="color: #18b2b2;">title</span> <span style="color: #ff1f8b;">"sine"</span>, <span style="color: #ef2929;">cos</span>(x) <span style="color: #18b2b2;">title</span> <span style="color: #ff1f8b;">"cosine"</span>
</pre>
</div>


<figure>
<img src="./Gnuplot-绘图第二弹-标签与图例/c2-legend-outside.png" alt="c2-legend-outside.png">

</figure>

<div class="org-src-container">
<pre class="src src-gnuplot"><span style="color: #1f5bff;">set</span> key box <span style="color: #18b2b2;">lt</span> -1 <span style="color: #18b2b2;">lw</span> 2

<span style="color: #1f5bff;">replot</span>
</pre>
</div>


<figure>
<img src="./Gnuplot-绘图第二弹-标签与图例/c2-key-box.png" alt="c2-key-box.png">

</figure>


<p>
带箭头的文本
</p>
<div class="org-src-container">
<pre class="src src-gnuplot"><span style="color: #b2b2b2; font-style: italic;"># </span><span style="color: #b2b2b2; font-style: italic;">left at &#21518;&#38754;&#30340;&#25968;&#23383;&#26159; x1y1 &#22352;&#26631;&#36724;&#65292;offset &#21518;&#38754;&#26159;&#20197;&#23383;&#20307;&#32593;&#26684;&#20026;&#22352;&#26631;</span>
<span style="color: #1f5bff;">set</span> label <span style="color: #ff1f8b;">"Max Difference"</span> left at 8, 1.5 offset .5, 0
<span style="color: #b2b2b2; font-style: italic;"># </span><span style="color: #b2b2b2; font-style: italic;">arrow &#21518;&#38754;&#30340; 1 &#26159;&#19968;&#20010; tag&#65292;front &#26159;&#21578;&#35785; gnuplot &#22312;&#26368;&#21069;&#38754;&#32472;&#21046; arrow</span>
<span style="color: #b2b2b2; font-style: italic;"># </span><span style="color: #b2b2b2; font-style: italic;">size &#20013;&#30340;&#31532;&#19968;&#20010;&#25968;&#23383;&#26159;&#31661;&#22836;&#20498;&#38057;&#30340;&#38271;&#24230;&#65292;&#31532;&#20108;&#20010;&#25968;&#23383;&#26159;&#20498;&#38057;&#30340;&#35282;&#24230;</span>
<span style="color: #1f5bff;">set</span> arrow 1 from first 8, 1.5 to pi*7/4, 1 <span style="color: #18b2b2;">lt</span> -1 <span style="color: #18b2b2;">lw</span> 2 front size .3, 15

<span style="color: #1f5bff;">replot</span>
</pre>
</div>


<figure>
<img src="./Gnuplot-绘图第二弹-标签与图例/c2-label-with-arrow.png" alt="c2-label-with-arrow.png">

</figure>

<p>
在标签和标题中使用 Unicod 字符，需要注意三点：
</p>
<ul class="org-ul">
<li>并不是所有的 Term 都支持 Unicod 字符，比如 PostScript 不支持，pdf 和 png 后端
支持；</li>
<li>设置编码方式为 <code>utf8</code> ，这一步并不是必需的，如果系统本身编码已经是 <code>utf8</code> 则不用重
新设置；</li>
<li>设置支持 Unicod 的字体。</li>
</ul>
<div class="org-src-container">
<pre class="src src-gnuplot"><span style="color: #1f5bff;">set</span> term png
<span style="color: #1f5bff;">set</span> encoding utf8
<span style="color: #1f5bff;">set</span> <span style="color: #18b2b2;">title</span> <span style="color: #ff1f8b;">"&#25391;&#24133;&#38543;&#26102;&#38388;&#30340;&#21464;&#21270;\n&#24046;&#20540;&#38543;&#26102;&#38388;&#30340;&#21464;&#21270;"</span> font <span style="color: #ff1f8b;">"Sarasa Term SC,18"</span>

<span style="color: #1f5bff;">replot</span>
</pre>
</div>


<figure>
<img src="./Gnuplot-绘图第二弹-标签与图例/c2-unicode.png" alt="c2-unicode.png">

</figure>
</div>
<div id="postamble" class="status">
<div id="author-info">
      <div id="author">Author: Cycoe (cycoejoo@163.com)</div>
      <div id="date">Date: May, 19, 2020</div>
      <div id="generator">Generator: <a href="https://www.gnu.org/software/emacs/">Emacs</a> 28.0.50 (<a href="https://orgmode.org">Org</a> mode 9.3)</div>
      </div><div id="copyright">
    <img id="cc" src="/static/img/Cc-logo-128x128.png" height="14px" width="14px"/>本站文章如未特殊声明，默认采用<a href="http://creativecommons.org/licenses/by-nc-sa/2.5/cn/" target="_blank">署名-非商业性使用-相同方式共享 2.5 中国大陆</a>进行许可。
</div>
</div>
</body>
</html>
