<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2020-05-15 Fri 22:06 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Gnuplot 绘图第一弹-二维数据绘图</title>
<meta name="generator" content="Org mode" />
<link rel="stylesheet" type="text/css" href="/static/css/default.css" />
</head>
<body>
<div id="preamble" class="status">
<header>
    <nav>Cycoe@Home</nav>
    <ul class="menu">
        <li><a href="/">Index</a></li>
        <li><a href="/Photo/index.html">Photo</a></li>
        <li><a href="/about.html">About</a></li>
    </ul>
</header>
</div>
<div id="content">
<h1 class="title">Gnuplot 绘图第一弹-二维数据绘图</h1>
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orgac1ccb5">1. 调色板</a></li>
<li><a href="#org1cd4ad2">2. Hello World</a></li>
<li><a href="#orgd46ccf5">3. 绘制曲线的同时指定坐标范围</a></li>
</ul>
</div>
</div>
<blockquote>
<p>
<a href="https://http//gnuplot.info/">Gnuplot</a> is a portable command-line driven graphing utility for Linux, OS/2, MS
Windows, OSX, VMS, and many other platforms. The source code is copyrighted but
freely distributed (i.e., you don't have to pay for it). It was originally
created to allow scientists and students to visualize mathematical functions and
data interactively, but has grown to support many non-interactive uses such as
web scripting. It is also used as a plotting engine by third-party applications
like Octave. Gnuplot has been supported and under active development since 1986.
</p>
</blockquote>

<!-- more -->

<div id="outline-container-orgac1ccb5" class="outline-2">
<h2 id="orgac1ccb5"><span class="section-number-2">1</span> 调色板</h2>
<div class="outline-text-2" id="text-1">
<p>
在 Gnuplot 的交互式命令行中使用 <code>test</code> 命令可以调出调色板，查看 Gnuplot 支持的样式
与配色。 
</p>
<div class="org-src-container">
<pre class="src src-gnuplot"><span style="font-weight: bold; text-decoration: underline;">test</span>
</pre>
</div>


<div class="figure">
<p><img src="./Gnuplot-绘图第一弹-二维数据绘图/test.png" alt="test.png" />
</p>
</div>

<p>
<b>注意</b>: 不同的后端支持的颜色和样式是不同的，同时同一个序号所代表的样式也很可能是不
同的。下面这张图是由 png 后端生成的，注意与上面由 pngcairo 后端生成的样式的区别。
不同的后端绘制效果可能会有很大差别，在使用时一定要注意自己所使用的后端。对比可以
发现，pngcairo 后端支持透明和 dash。对于交互式命令行，可以使用 <code>test</code> 命令查看后端
信息。对于 Org babel 环境，可以用 <code>M-x customize-group org-babel</code> 设置 <code>Org Babel
Gnuplot Term</code> 变量为 <code>pngcairo</code> 来得更好的绘制效果。
</p>

<div class="org-src-container">
<pre class="src src-gnuplot"><span style="font-weight: bold; text-decoration: underline;">set</span> term png
<span style="font-weight: bold; text-decoration: underline;">test</span>
</pre>
</div>


<div class="figure">
<p><img src="./Gnuplot-绘图第一弹-二维数据绘图/test-pngcairo.png" alt="test-pngcairo.png" />
</p>
</div>
</div>
</div>

<div id="outline-container-org1cd4ad2" class="outline-2">
<h2 id="org1cd4ad2"><span class="section-number-2">2</span> Hello World</h2>
<div class="outline-text-2" id="text-2">
<div class="org-src-container">
<pre class="src src-gnuplot"><span style="font-weight: bold; text-decoration: underline;">reset</span>
<span style="font-weight: bold;">plot</span> <span style="font-weight: bold;">besj0</span>(x)
</pre>
</div>


<div class="figure">
<p><img src="Gnuplot-绘图第一弹-二维数据绘图/c1-simple.png" alt="c1-simple.png" />
</p>
</div>
</div>
</div>

<div id="outline-container-orgd46ccf5" class="outline-2">
<h2 id="orgd46ccf5"><span class="section-number-2">3</span> 绘制曲线的同时指定坐标范围</h2>
<div class="outline-text-2" id="text-3">
<div class="org-src-container">
<pre class="src src-gnuplot"><span style="font-weight: bold;">plot</span> [][<span style="font-weight: bold; text-decoration: underline;">-3:1.5</span>] (<span style="font-weight: bold;">sin</span>(1/x) - <span style="font-weight: bold;">cos</span>(x))*<span style="font-weight: bold;">erfc</span>(x)
</pre>
</div>


<div class="figure">
<p><img src="Gnuplot-绘图第一弹-二维数据绘图/c1-xrange.png" alt="c1-xrange.png" />
</p>
</div>

<p>
将函数的数据写入到文件
</p>
<div class="org-src-container">
<pre class="src src-gnuplot"><span style="font-weight: bold; text-decoration: underline;">set</span> table <span style="font-style: italic;">'f1.dat'</span>
<span style="font-weight: bold;">plot</span> [<span style="font-weight: bold; text-decoration: underline;">-5:5</span>] (<span style="font-weight: bold;">sin</span>(1/x) - <span style="font-weight: bold;">cos</span>(x))*<span style="font-weight: bold;">erfc</span>(x)
<span style="font-weight: bold; text-decoration: underline;">unset</span> table
</pre>
</div>

<p>
绘制多条曲线
</p>
<div class="org-src-container">
<pre class="src src-gnuplot"><span style="font-weight: bold;">plot</span> [<span style="font-weight: bold; text-decoration: underline;">-1:1</span>] x, x**2, x**3
</pre>
</div>


<div class="figure">
<p><img src="Gnuplot-绘图第一弹-二维数据绘图/c1-multipe-lines.png" alt="c1-multipe-lines.png" />
</p>
</div>

<p>
使用文件中的数据进行绘制
</p>
<div class="org-src-container">
<pre class="src src-gnuplot"><span style="font-weight: bold;">plot</span> [<span style="font-weight: bold; text-decoration: underline;">-1:1</span>] <span style="font-style: italic;">'f1.dat'</span> <span style="font-weight: bold; text-decoration: underline;">with</span> <span style="font-weight: bold;">lines</span> <span style="font-weight: bold; text-decoration: underline;">lw</span> 1, -x, -x**3
</pre>
</div>


<div class="figure">
<p><img src="Gnuplot-绘图第一弹-二维数据绘图/c1-use-file-data.png" alt="c1-use-file-data.png" />
</p>
</div>

<p>
绘制双 <code>y</code> 轴图， <code>set y2tics start, sep</code> 设置 <code>y2</code> 轴的起始值以及间隔
</p>
<div class="org-src-container">
<pre class="src src-gnuplot"><span style="font-weight: bold; text-decoration: underline;">set</span> y2tics -100, 20
<span style="font-weight: bold; text-decoration: underline;">set</span> ytics nomirror
<span style="font-weight: bold;">plot</span> <span style="font-weight: bold;">sin</span>(1/x) axis x1y1,100*<span style="font-weight: bold;">cos</span>(x) axis x1y2
</pre>
</div>


<div class="figure">
<p><img src="Gnuplot-绘图第一弹-二维数据绘图/c1-double-y.png" alt="c1-double-y.png" />
</p>
</div>

<p>
设定采样数
</p>
<div class="org-src-container">
<pre class="src src-gnuplot"><span style="font-weight: bold; text-decoration: underline;">reset</span>
<span style="font-weight: bold; text-decoration: underline;">set</span> sample 100000
<span style="font-weight: bold; text-decoration: underline;">set</span> x2tics -20, 2
<span style="font-weight: bold; text-decoration: underline;">set</span> xtics nomirror
<span style="font-weight: bold;">plot</span> <span style="font-weight: bold;">sin</span>(1/x) axis x1y1, 100*<span style="font-weight: bold;">cos</span>(x-1) axis x2y2
</pre>
</div>


<div class="figure">
<p><img src="Gnuplot-绘图第一弹-二维数据绘图/c1-set-sample.png" alt="c1-set-sample.png" />
</p>
</div>

<p>
绘制散点图
</p>
<div class="org-src-container">
<pre class="src src-gnuplot"><span style="font-weight: bold; text-decoration: underline;">reset</span>
<span style="font-weight: bold;">plot</span> <span style="font-style: italic;">'f1.dat'</span> <span style="font-weight: bold; text-decoration: underline;">with</span> <span style="font-weight: bold;">points</span> <span style="font-weight: bold; text-decoration: underline;">pt</span> 7
</pre>
</div>


<div class="figure">
<p><img src="Gnuplot-绘图第一弹-二维数据绘图/c1-scatter.png" alt="c1-scatter.png" />
</p>
</div>

<p>
绘制盒形图，其中 <code>set style</code> 有以下几种取值
</p>
<ul class="org-ul">
<li><code>set style fill empty</code> 不进行填充</li>
<li><code>set style fill pattern</code> 填充图案</li>
<li><code>set style fill solid</code> 填充颜色</li>
</ul>

<div class="org-src-container">
<pre class="src src-gnuplot"><span style="font-weight: bold; text-decoration: underline;">reset</span>
<span style="font-weight: bold; text-decoration: underline;">set</span> style fill pattern
<span style="font-weight: bold;">plot</span> [<span style="font-weight: bold; text-decoration: underline;">-6:6</span>]  <span style="font-weight: bold;">besj0</span>(x) <span style="font-weight: bold; text-decoration: underline;">with</span> <span style="font-weight: bold;">boxes</span>, <span style="font-weight: bold;">sin</span>(x) <span style="font-weight: bold; text-decoration: underline;">with</span> <span style="font-weight: bold;">boxes</span>, <span style="font-weight: bold;">cos</span>(x) <span style="font-weight: bold; text-decoration: underline;">with</span> <span style="font-weight: bold;">boxes</span>
</pre>
</div>


<div class="figure">
<p><img src="Gnuplot-绘图第一弹-二维数据绘图/c1-boxes.png" alt="c1-boxes.png" />
</p>
</div>

<p>
绘制圆圈图，圆圈图需要 3 列数据， <code>x:y:r</code>
</p>
<div class="org-src-container">
<pre class="src src-gnuplot"><span style="font-weight: bold; text-decoration: underline;">reset</span>
<span style="font-weight: bold;">plot</span> <span style="font-style: italic;">'+'</span> <span style="font-weight: bold; text-decoration: underline;">using</span> 1:(<span style="font-weight: bold;">sin</span>($1)):(<span style="font-weight: bold;">cos</span>($1)+1) <span style="font-weight: bold; text-decoration: underline;">with</span> <span style="font-weight: bold;">circles</span>
</pre>
</div>


<div class="figure">
<p><img src="Gnuplot-绘图第一弹-二维数据绘图/c1-plot-circles.png" alt="c1-plot-circles.png" />
</p>
</div>

<p>
填充曲线
</p>
<div class="org-src-container">
<pre class="src src-gnuplot"><span style="font-weight: bold; text-decoration: underline;">reset</span>
<span style="font-weight: bold; text-decoration: underline;">set</span> style fill solid
<span style="font-weight: bold;">plot</span> [<span style="font-weight: bold; text-decoration: underline;">0:20</span>] <span style="font-weight: bold;">besy0</span>(x) <span style="font-weight: bold; text-decoration: underline;">with</span> <span style="font-weight: bold;">filledcurves</span> above <span style="font-weight: bold; font-style: italic;">y1=</span>0
</pre>
</div>


<div class="figure">
<p><img src="Gnuplot-绘图第一弹-二维数据绘图/c1-fill-curves.png" alt="c1-fill-curves.png" />
</p>
</div>

<p>
曲线填充也不用真实的文件，这里的 <code>+</code> 表示一个虚拟文件，其中的第一列是由 Gnuplot 自
动生成的 <code>x</code> 采样值
</p>
<div class="org-src-container">
<pre class="src src-gnuplot"><span style="font-weight: bold; text-decoration: underline;">reset</span>
<span style="font-weight: bold; text-decoration: underline;">set</span> style fill pattern 5
<span style="font-weight: bold;">plot</span> [<span style="font-weight: bold; text-decoration: underline;">0:1</span>] <span style="font-style: italic;">'+'</span> <span style="font-weight: bold; text-decoration: underline;">using</span> 1:(-$1):(-$1**2) <span style="font-weight: bold; text-decoration: underline;">with</span> <span style="font-weight: bold;">filledcurves</span>, -x <span style="font-weight: bold; text-decoration: underline;">lw</span> 3 <span style="font-weight: bold; text-decoration: underline;">notitle</span>, -x**2 <span style="font-weight: bold; text-decoration: underline;">lw</span> 3 <span style="font-weight: bold; text-decoration: underline;">notitle</span>
</pre>
</div>


<div class="figure">
<p><img src="Gnuplot-绘图第一弹-二维数据绘图/c1-fill-between-lines.png" alt="c1-fill-between-lines.png" />
</p>
</div>

<p>
以直方图的形式绘制曲线
</p>
<div class="org-src-container">
<pre class="src src-gnuplot"><span style="font-weight: bold; text-decoration: underline;">reset</span>
<span style="font-weight: bold;">plot</span> [<span style="font-weight: bold; text-decoration: underline;">-10:10</span>] <span style="font-weight: bold;">sin</span>(x) <span style="font-weight: bold; text-decoration: underline;">with</span> <span style="font-weight: bold;">histeps</span>
</pre>
</div>


<div class="figure">
<p><img src="Gnuplot-绘图第一弹-二维数据绘图/c1-histeps.png" alt="c1-histeps.png" />
</p>
</div>

<p>
并排的直方图
</p>
<div class="org-src-container">
<pre class="src src-gnuplot"><span style="font-weight: bold; text-decoration: underline;">reset</span>
<span style="font-weight: bold; text-decoration: underline;">set</span> style fill solid 1.0 border <span style="font-weight: bold; text-decoration: underline;">lt</span> -1
<span style="font-weight: bold; text-decoration: underline;">set</span> style data <span style="font-weight: bold;">histograms</span>
<span style="font-weight: bold;">plot</span> [<span style="font-weight: bold; text-decoration: underline;">0:20</span>] <span style="font-style: italic;">'+'</span> <span style="font-weight: bold; text-decoration: underline;">using</span> (<span style="font-weight: bold;">cos</span>($1)), <span style="font-style: italic;">''</span> <span style="font-weight: bold; text-decoration: underline;">using</span> (<span style="font-weight: bold;">sin</span>($1))
</pre>
</div>


<div class="figure">
<p><img src="Gnuplot-绘图第一弹-二维数据绘图/c1-histograms.png" alt="c1-histograms.png" />
</p>
</div>

<p>
叠加的直方图
</p>
<div class="org-src-container">
<pre class="src src-gnuplot"><span style="font-weight: bold; text-decoration: underline;">reset</span>
<span style="font-weight: bold; text-decoration: underline;">set</span> style fill solid 1.0 border <span style="font-weight: bold; text-decoration: underline;">lt</span> -1
<span style="font-weight: bold; text-decoration: underline;">set</span> style data <span style="font-weight: bold;">histograms</span>
<span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">&#25976;&#25818;&#26371;&#25353;&#34892;&#36914;&#34892;&#32047;&#21152;&#65292;&#22914;&#26524;&#27794;&#26377;&#36889;&#34892;&#65292;&#40664;&#35469;&#26159;&#22810;&#32068;&#25976;&#25818;&#20006;&#25490;</span>
<span style="font-weight: bold; text-decoration: underline;">set</span> style histogram rowstacked
<span style="font-weight: bold;">plot</span> [<span style="font-weight: bold; text-decoration: underline;">0:20</span>] <span style="font-style: italic;">'+'</span> <span style="font-weight: bold; text-decoration: underline;">using</span> (<span style="font-weight: bold;">cos</span>($1)), <span style="font-style: italic;">''</span> <span style="font-weight: bold; text-decoration: underline;">using</span> (<span style="font-weight: bold;">sin</span>($1))
</pre>
</div>


<div class="figure">
<p><img src="Gnuplot-绘图第一弹-二维数据绘图/c1-histograms-rowstacked.png" alt="c1-histograms-rowstacked.png" />
</p>
</div>

<p>
绘制带误差条的点图
</p>
<div class="org-src-container">
<pre class="src src-gnuplot"><span style="font-weight: bold; text-decoration: underline;">reset</span>
<span style="font-weight: bold; text-decoration: underline;">set</span> sample 30
<span style="font-weight: bold; text-decoration: underline;">set</span> <span style="font-weight: bold; text-decoration: underline;">pointsize</span> 3
<span style="font-weight: bold; font-style: italic;"># </span><span style="font-weight: bold; font-style: italic;">errorbar &#30340;&#23485;&#24230;</span>
<span style="font-weight: bold; text-decoration: underline;">set</span> bars 3
<span style="font-weight: bold;">plot</span> [<span style="font-weight: bold; text-decoration: underline;">0:10</span>] <span style="font-style: italic;">'+'</span> <span style="font-weight: bold; text-decoration: underline;">using</span> 1:(<span style="font-weight: bold;">sin</span>($1)):(0.5*<span style="font-weight: bold;">cos</span>($1)) <span style="font-weight: bold; text-decoration: underline;">with</span> <span style="font-weight: bold;">errorbars</span>,\
     <span style="font-style: italic;">''</span> <span style="font-weight: bold; text-decoration: underline;">using</span> 1:(<span style="font-weight: bold;">sin</span>($1)) <span style="font-weight: bold; text-decoration: underline;">pt</span> 7 <span style="font-weight: bold; text-decoration: underline;">notitle</span>
</pre>
</div>


<div class="figure">
<p><img src="Gnuplot-绘图第一弹-二维数据绘图/c1-error-bars.png" alt="c1-error-bars.png" />
</p>
</div>

<div class="org-src-container">
<pre class="src src-gnuplot"><span style="font-weight: bold; text-decoration: underline;">reset</span>
<span style="font-weight: bold; text-decoration: underline;">set</span> sample 30
<span style="font-weight: bold; text-decoration: underline;">set</span> bars 3
<span style="font-weight: bold; text-decoration: underline;">set</span> style fill pattern 2 border <span style="font-weight: bold; text-decoration: underline;">lt</span> -1
<span style="font-weight: bold;">plot</span> [<span style="font-weight: bold; text-decoration: underline;">0:10</span>] <span style="font-style: italic;">'+'</span> <span style="font-weight: bold; text-decoration: underline;">using</span> 1:(<span style="font-weight: bold;">sin</span>($1)):(0.5*<span style="font-weight: bold;">cos</span>($1)) <span style="font-weight: bold; text-decoration: underline;">with</span> <span style="font-weight: bold;">boxerrorbars</span>
</pre>
</div>


<div class="figure">
<p><img src="Gnuplot-绘图第一弹-二维数据绘图/c1-boxerrorbars.png" alt="c1-boxerrorbars.png" />
</p>
</div>

<p>
棒状图
</p>
<div class="org-src-container">
<pre class="src src-gnuplot"><span style="font-weight: bold; text-decoration: underline;">set</span> samples 30
<span style="font-weight: bold;">plot</span> [<span style="font-weight: bold; text-decoration: underline;">0:2*pi</span>] <span style="font-weight: bold;">sin</span>(x) <span style="font-weight: bold; text-decoration: underline;">with</span> <span style="font-weight: bold;">impulses</span> <span style="font-weight: bold; text-decoration: underline;">lw</span> 2
</pre>
</div>


<div class="figure">
<p><img src="Gnuplot-绘图第一弹-二维数据绘图/c1-impulse.png" alt="c1-impulse.png" />
</p>
</div>

<p>
绘制参数方程曲线
</p>
<div class="org-src-container">
<pre class="src src-gnuplot"><span style="font-weight: bold; text-decoration: underline;">set</span> samples 1000
<span style="font-weight: bold; text-decoration: underline;">set</span> parametric
<span style="font-weight: bold;">plot</span> <span style="font-weight: bold;">sin</span>(7*t), <span style="font-weight: bold;">cos</span>(11*t) <span style="font-weight: bold; text-decoration: underline;">notitle</span>
</pre>
</div>


<div class="figure">
<p><img src="Gnuplot-绘图第一弹-二维数据绘图/c1-parametric-curves.png" alt="c1-parametric-curves.png" />
</p>
</div>

<p>
极坐标绘图
</p>
<div class="org-src-container">
<pre class="src src-gnuplot"><span style="font-weight: bold; text-decoration: underline;">reset</span>
<span style="font-weight: bold; text-decoration: underline;">set</span> size ratio 1
<span style="font-weight: bold; text-decoration: underline;">set</span> xtics axis nomirror
<span style="font-weight: bold; text-decoration: underline;">set</span> ytics axis nomirror
<span style="font-weight: bold; text-decoration: underline;">set</span> zeroaxis
<span style="font-weight: bold; text-decoration: underline;">unset</span> border
<span style="font-weight: bold; text-decoration: underline;">set</span> samples 500
<span style="font-weight: bold; text-decoration: underline;">set</span> polar
<span style="font-weight: bold;">plot</span> [<span style="font-weight: bold; text-decoration: underline;">0:12*pi</span>] t
</pre>
</div>


<div class="figure">
<p><img src="Gnuplot-绘图第一弹-二维数据绘图/c1-polar-axis.png" alt="c1-polar-axis.png" />
</p>
</div>
</div>
</div>
</div>
<div id="postamble" class="status">
<footer>
    <img src="/img/Cc-logo-128x128.png" height="14px" width="14px" />
    本站文章如未特殊声明，默认采用<a href="http://creativecommons.org/licenses/by-nc-sa/2.5/cn/" target="_blank">署名-非商业性使用-相同方式共享 2.5 中国大陆</a>进行许可。
</footer>
</div>
</body>
</html>
