<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2020-05-15 Fri 22:06 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Qt 程序缩放不正常的解决办法</title>
<meta name="generator" content="Org mode" />
<link rel="stylesheet" type="text/css" href="/static/css/default.css" />
</head>
<body>
<div id="preamble" class="status">
<header>
    <nav>Cycoe@Home</nav>
    <ul class="menu">
        <li><a href="/">Index</a></li>
        <li><a href="/Photo/index.html">Photo</a></li>
        <li><a href="/about.html">About</a></li>
    </ul>
</header>
</div>
<div id="content">
<h1 class="title">Qt 程序缩放不正常的解决办法</h1>
<p>
最近在装了一次 KDE Plasma 桌面环境后，我的 DWM 中的缩放就变得不正常了。GTK 程序
都没有问题，但是 Qt 程序整个界面被放得非常大，一点都不精致了看着好难受。
</p>

<!--more-->

<p>
我在系统中只在 <code>~/.Xresources</code> 文件中设置了 <code>Xft.dpi: 144</code> ，其它地方都没有关于 DPI
或者是缩放相关的设置，一定是 KDE 把我的设置弄脏了。经过 Archlinux-CN TG 群大佬的
提点以及搜索，终于找到了解决办法。在 <code>~/.xprofile</code> 文件中设置环境变量
</p>
<div class="org-src-container">
<pre class="src src-bash"><span style="font-weight: bold;">export</span> <span style="font-weight: bold; font-style: italic;">QT_AUTO_SCREEN_SCALE_FACTOR</span>=0
</pre>
</div>

<p>
用此变量禁用掉 Qt 的自动缩放即可。不过话说回来，qt5ct 竟然显示都正常，难道 qt5ct
不是用 Qt 写的？另外，我的 Archlinux 中本来并没有 <code>QT_AUTO_SCREEN_SCALE_FACTOR</code> 这
个环境变量存在，应该还是 KDE 中的某个配置文件还存在在我系统的某个角落，不过我是
真的找不到了，只能先这样勉强用着这样子。
</p>
</div>
<div id="postamble" class="status">
<footer>
    <img src="/img/Cc-logo-128x128.png" height="14px" width="14px" />
    本站文章如未特殊声明，默认采用<a href="http://creativecommons.org/licenses/by-nc-sa/2.5/cn/" target="_blank">署名-非商业性使用-相同方式共享 2.5 中国大陆</a>进行许可。
</footer>
</div>
</body>
</html>
